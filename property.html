<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <title>BCAI SmartQuote</title>

    <!-- BOOTSTRAP 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background-color: #f3f6f9;
        }

        /* Default style menu */
        .navbar .nav-link {
            color: white;
            font-weight: 500;
            transition: 0.2s;
        }

        /* Hover */
        .navbar .nav-link:hover {
            color: #BBE9FF;
        }

        /* Active menu */
        .nav-active {
            background: #4FC3F7 !important;
            color: #003e5d !important;
            border-radius: 6px;
            font-weight: 700 !important;
        }

        .card {
            border-radius: 12px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th,
        td {
            border: 1px solid #ccc;
            padding: 8px;
            font-size: 14px;
        }

        th {
            background: #eee;
        }

        .btn-bcai {
            background-color: #005a8d;
            color: white;
            border-radius: 8px;
            padding: 10px 20px;
        }

        .btn-bcai:hover {
            background-color: #003e5d;
        }

        .title-line {
            border-left: 4px solid #005a8d;
            padding-left: 10px;
        }
    </style>
</head>

<body>
    <!-- TOPBAR NAVIGATION -->
    <nav class="navbar navbar-expand-lg shadow-sm" style="background:#005a8d;">
        <div class="container-fluid px-4">

            <!-- LOGO / TITLE -->
            <a class="navbar-brand text-white fw-bold" href="#">
                BCAI SmartQuote
            </a>

            <!-- TOGGLER (Mobile) -->
            <button class="navbar-toggler text-white" type="button" data-bs-toggle="collapse"
                data-bs-target="#topbarMenu">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- MENU -->
            <div class="collapse navbar-collapse" id="topbarMenu">
                <ul class="navbar-nav ms-auto">

                    <!-- MENU MV -->
                    <li class="nav-item">
                        <a class="nav-link text-white px-3" href="index.html" id="menuMV">
                            Motor Vehicle (MV)
                        </a>
                    </li>

                    <!-- MENU PROPERTY -->
                    <li class="nav-item">
                        <a class="nav-active nav-link text-white px-3" href="property.html" id="menuProperty">
                            Property
                        </a>
                    </li>

                </ul>
            </div>

        </div>
    </nav>
    <div class="container py-4">

        <div class="card shadow p-4">
            <!-- FORM INPUT -->
            <div class="row g-3">

                <div class="col-md-4">
                    <label class="form-label">Nama Tertanggung</label>
                    <input id="tertanggung" type="text" class="form-control" placeholder="Masukkan nama tertanggung">
                </div>

                <div class="col-md-4">
                    <label class="form-label">Alamat</label>
                    <input id="alamat" type="text" class="form-control" placeholder="Masukkan alamat pertanggungan">
                </div>

                <div class="col-md-4">
                    <label class="form-label">Jenis Okupasi</label>
                    <select id="jenisOkupasi" class="form-select">
                    </select>
                </div>

                <div class="col-md-3">
                    <label class="form-label">Nilai Bangunan</label>
                    <input id="nilaiBangunan" type="number" class="form-control" placeholder="Masukkan nilai bangunan"
                        min="0">
                </div>

                <div class="col-md-3">
                    <label class="form-label">Nilai Content</label>
                    <input id="nilaiContent" type="number" class="form-control" placeholder="Masukkan nilai content"
                        min="0">
                </div>

                <div class="col-md-3">
                    <label class="form-label">Nilai Stock</label>
                    <input id="nilaiStock" type="number" class="form-control" placeholder="Masukkan nilai stock"
                        min="0">
                </div>

                <div class="col-md-3">
                    <label class="form-label">Nilai Mesin</label>
                    <input id="nilaiMesin" type="number" class="form-control" placeholder="Masukkan nilai mesin"
                        min="0">
                </div>

                <div class="col-md-6">
                    <label class="form-label">Kelas Konstruksi</label>
                    <select id="kelasKonstruksi" class="form-select">
                        <option value="1">Konstruksi 1</option>
                        <option value="2">Konstruksi 2</option>
                        <option value="3">Konstruksi 3</option>
                    </select>
                </div>

                <div class="col-md-6">
                    <label class="form-label">Diskon (%)</label>
                    <input id="diskon" type="number" class="form-control" placeholder="0 - 15%" max="15" min="0">
                </div>

                <div class="col-md-12">
                    <label class="form-label">Total Pertanggungan</label>
                    <input disabled id="totalPertanggungan" type="number" class="form-control"
                        placeholder="Total pertanggungan akan terhitung otomatis" readonly>
                </div>

                <div class="col-md-12">
                    <label class="form-label">Opsi Layout</label>
                    <select id="opsi" class="form-select">
                        <option value="1">PAR, PAR (Exc. TSFWD), PAR + EQVET</option>
                        <option value="2">FLEXAS, PAR, PAR (Exc. TSFWD), PAR + EQVET</option>
                    </select>
                </div>

            </div>

            <!-- BUTTONS -->
            <div class="mt-4 d-flex gap-2">
                <button class="btn btn-bcai" onclick="generateQuote()">Generate Penawaran</button>
                <button class="btn btn-secondary" onclick="savePDF()">Save as PDF</button>
            </div>
        </div>

        <!-- OUTPUT -->
        <div id="result" class="card shadow p-4 mt-4"></div>

    </div>

    <!-- MODAL VALIDASI -->
    <div class="modal fade" id="modalValidasi" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">

                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title">Data Belum Lengkap</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <div class="modal-body">
                    Mohon lengkapi semua data sebelum menghasilkan estimasi premi.
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Mengerti</button>
                </div>

            </div>
        </div>
    </div>

    <!-- MODAL BELUM GENERATE -->
    <div class="modal fade" id="modalBelumGenerate" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">

                <div class="modal-header bg-warning text-dark">
                    <h5 class="modal-title">Belum Generate</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <div class="modal-body">
                    Silakan generate penawaran terlebih dahulu sebelum menyimpan PDF.
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-warning" data-bs-dismiss="modal">Mengerti</button>
                </div>

            </div>
        </div>
    </div>


    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script src="scriptProperty.js"></script>

    <script>
        // AUTO ACTIVE MENU BERDASARKAN HALAMAN
        const path = window.location.pathname;

        if (path.includes("mv")) {
            document.getElementById("menuMV").classList.add("fw-bold", "text-warning");
        } else if (path.includes("property")) {
            document.getElementById("menuProperty").classList.add("fw-bold", "text-warning");
        }
    </script>

</body>

</html>